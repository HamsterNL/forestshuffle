import{_ as y,F as w,u as m,r as b,o as i,c,a as t,t as a,b as f,n as g,d as _,e as p,f as l,p as C,g as N,h as S,m as P,i as O,j as I}from"./index-X-Y3spCI.js";const $={name:"CardAmountEditor",components:{FontAwesomeIcon:w},props:{card:Object,forest:Object},computed:{playerName(){return this.forest.playerName}},methods:{addCard(){m().addCard(this.playerName,this.card.name)},removeCard(){m().removeCard(this.playerName,this.card.name)},paramAdd(e){m().addParam(this.playerName,this.card.name,e)},paramSub(e){m().subParam(this.playerName,this.card.name,e)}}},A=e=>(C("data-v-5d092499"),e=e(),N(),e),x={class:"d-flex mt-2"},B={class:"fw-bold card-amount"},E={key:0},F={class:"flex-grow-1"},D=["src"],L={class:"ms-2"},j={key:0},V={key:0,class:"mt-2 d-flex align-items-center"},z=A(()=>t("div",{class:"card-amount"},null,-1)),q=["onClick"],G=["onClick"],H={class:"ms-1 fw-bold"},J={class:"ms-1"},K={key:1,class:"mt-1 mb-3 d-flex align-items-center"},M=A(()=>t("div",{class:"card-amount"},null,-1)),Q={class:"fw-bold card-amount"},R={key:0},T={class:"flex-grow-1"},U=["onClick"],W={class:"ms-2"},X=["onClick"];function Y(e,d,n,v,h,s){const r=b("font-awesome-icon");return i(),c(_,null,[t("div",x,[t("div",B,[n.card.count>0?(i(),c("span",E,a(n.card.count)+"×",1)):f("",!0)]),t("div",F,[t("button",{onClick:d[0]||(d[0]=(...o)=>s.addCard&&s.addCard(...o)),class:g(["btn-"+n.card.symbols[0],"btn btn-primary btn-sm btn-card"])},[t("img",{src:"./img/symbols/"+n.card.symbols[0]+".png",height:"20"},null,8,D),t("span",L,a(e.$t(n.card.name)),1)],2),t("button",{class:"ms-1 btn btn-outline-danger btn-sm",onClick:d[1]||(d[1]=(...o)=>s.removeCard&&s.removeCard(...o))},"×")]),t("div",null,[n.card.count>0&&n.card.symbols.indexOf("butterfly")<0?(i(),c("span",j,a(n.card.points),1)):f("",!0)])]),(i(!0),c(_,null,p(n.card.params,o=>(i(),c("div",{class:"mt-1 mb-2",key:o.name},[o.type!=="number"?(i(),c("div",V,[z,t("div",{onClick:u=>s.paramAdd(o.name),class:"text-success"},[l(r,{icon:"circle-plus"})],8,q),t("div",{onClick:u=>s.paramSub(o.name),class:"ms-1 text-danger"},[l(r,{icon:"circle-minus"})],8,G),t("div",H,a(o.value),1),t("div",J,a(e.$t(o.name)),1)])):f("",!0),o.type==="number"?(i(),c("div",K,[M,t("div",Q,[n.card.count>0?(i(),c("span",R,a(o.value),1)):f("",!0)]),t("div",T,[t("button",{onClick:u=>s.paramAdd(o.name),class:g(["btn-"+n.card.symbols[0],"btn btn-sm btn-primary btn-card"])},[t("span",W,a(e.$t(o.name)),1)],10,U),t("button",{class:"ms-1 btn btn-outline-danger btn-sm",onClick:u=>s.paramSub(o.name)},"×",8,X)])])):f("",!0)]))),128))],64)}const k=y($,[["render",Y],["__scopeId","data-v-5d092499"]]),Z={name:"CardAmountEditorList",components:{CardAmountEditor:k},props:{cards:Array,forest:S,symbol:String,heading:String},computed:{totalPoints(){return this.symbol==="butterfly"?this.forest.butterflyPoints:this.cards.map(e=>e.points).reduce((e,d)=>d+=e,0)}}},ee=["src","alt"],se={class:"ms-1 fs-5 flex-grow-1"},te={class:"fs-5"};function re(e,d,n,v,h,s){const r=b("CardAmountEditor");return i(),c(_,null,[t("div",P(e.$attrs,{class:"d-flex align-items-center"}),[t("img",{src:"./img/symbols/"+n.symbol+".png",height:"24",alt:e.$t(n.heading)},null,8,ee),t("div",se,a(e.$t(n.heading)),1),t("div",te,a(s.totalPoints),1)],16),(i(!0),c(_,null,p(n.cards,o=>(i(),c("div",{key:"cae_"+o.name,class:"d-block"},[l(r,{card:o,forest:n.forest},null,8,["card","forest"])]))),128))],64)}const ae=y(Z,[["render",re]]),ne={name:"SymbolAmountEditor",props:{playerName:String},computed:{forest(){return m().getForestByPlayerName(this.playerName)}},methods:{update(e,d){m().getForestByPlayerName(this.playerName).setSymbolCount(e,d.target.value)}}},oe={class:"d-flex justify-content-around"},de={class:"text-center"},le=["for"],ie=["src","alt"],ce=["id","value","onInput"];function me(e,d,n,v,h,s){return i(),c("div",oe,[(i(),c(_,null,p(["beech","linden","silverFir","horseChestnut","birch"],(r,o)=>t("div",de,[t("label",{for:"#"+r+"CountInput"},[t("img",{src:"/img/symbols/"+r+".png",alt:r,width:"32",class:"img-fluid"},null,8,ie)],8,le),t("input",{id:r+"CountInput",value:s.forest[r+"Count"],onInput:u=>s.update(r,u),type:"number",class:"form-control amount-input",onfocus:"this.select();",onclick:"this.select();"},null,40,ce)])),64))])}const ue=y(ne,[["render",me],["__scopeId","data-v-b49fba60"]]),fe={components:{SymbolAmountEditor:ue,CardAmountEditorList:ae,CardAmountEditor:k},data(){return{playerName:null}},computed:{forest(){return m().getForestByPlayerName(this.playerName)},cards(){return m().getForestByPlayerName(this.playerName).cards},trees(){return this.cards.filter(e=>e.symbols.indexOf("tree")>=0)},birds(){return this.cards.filter(e=>e.symbols.indexOf("bird")>=0)},butterflies(){return this.cards.filter(e=>e.symbols.indexOf("butterfly")>=0)},butterflyPoints(){return this.forest.butterflyPoints},others(){return this.forest.cards.filter(e=>e.name==="redSquirrel")},plants(){return this.cards.filter(e=>e.symbols.indexOf("plant")>=0)},mushrooms(){return this.cards.filter(e=>e.symbols.indexOf("mushroom")>=0)},amphibians(){return this.cards.filter(e=>e.symbols.indexOf("amphibian")>=0)},insectsBottom(){return this.cards.filter(e=>e.symbols.indexOf("insect")>=0&&e.position==="bottom")},pawedBottom(){return this.cards.filter(e=>e.symbols.indexOf("pawedAnimal")>=0&&e.position==="bottom")},insectsSide(){return this.cards.filter(e=>e.symbols.indexOf("insect")>=0&&e.position==="side")},bats(){return this.cards.filter(e=>e.symbols.indexOf("bat")>=0)},deerAndCloven(){return this.cards.filter(e=>e.symbols.indexOf("deer")>=0||e.symbols.indexOf("clovenHoofedAnimal")>=0)},roeDeerPresent(){return this.forest.roeDeerPresent()},pawedSide(){return this.cards.filter(e=>e.symbols.indexOf("pawedAnimal")>=0&&e.position==="side")},points(){return m().getForestByPlayerName(this.playerName).points}},methods:{setCaveCount(e){m().setCaveCount(this.playerName,e)}},watch:{playerName:{handler(e){if(!e){const d=O();if(d.players.length===0){const n=this.$t("player")+" 1";d.addPlayer(n),m().addForest(n),d.selectPlayer(n)}else d.selectPlayer(d.players[0].name);this.playerName=d.currentPlayer.name}},immediate:!0}}},he=e=>(C("data-v-ce9e55ae"),e=e(),N(),e),_e={key:0,class:"container"},be={class:"position-fixed z-1 bg-white w-100 pb-3"},ye={class:"h1"},ve=he(()=>t("div",{class:"distance-keeper position-relative"},null,-1)),pe={class:"h4"},ge={class:"h1"},Ce={class:"h4"},Ne={class:"h4"},Ae={class:"h4"},ke={class:"h4"},we={class:"h4"},Se={class:"h1"},Pe={class:"h4"},Oe={class:"h4"},Ie={class:"h4"},$e={class:"h4"},xe={class:"h4"},Be={class:"input-group"},Ee={for:"#caveInput"},Fe=["value"];function De(e,d,n,v,h,s){const r=b("CardAmountEditorList"),o=b("SymbolAmountEditor");return s.forest?(i(),c("div",_e,[t("div",be,[t("div",ye,a(h.playerName),1),t("div",null,"Points: "+a(s.points),1)]),ve,l(r,{cards:s.trees,forest:s.forest,symbol:"tree",heading:"trees"},null,8,["cards","forest"]),l(r,{class:"mt-4",cards:s.birds,forest:s.forest,symbol:"bird",heading:"birds"},null,8,["cards","forest"]),l(r,{class:"mt-4",cards:s.butterflies,forest:s.forest,symbol:"butterfly",heading:"butterflies"},null,8,["cards","forest"]),l(r,{class:"mt-4",cards:s.others,forest:s.forest,symbol:"pawnedAnimals",heading:"others"},null,8,["cards","forest"]),t("div",pe,a(e.$t("others")),1),l(r,{cards:s.others,forest:s.forest},null,8,["cards","forest"]),t("div",ge,a(e.$t("bottoms")),1),t("div",Ce,a(e.$t("plants")),1),l(r,{cards:s.plants,forest:s.forest},null,8,["cards","forest"]),t("div",Ne,a(e.$t("mushrooms")),1),l(r,{cards:s.mushrooms,forest:s.forest},null,8,["cards","forest"]),t("div",Ae,a(e.$t("amphibians")),1),l(r,{cards:s.amphibians,forest:s.forest},null,8,["cards","forest"]),t("div",ke,a(e.$t("insects")),1),l(r,{cards:s.insectsBottom,forest:s.forest},null,8,["cards","forest"]),t("div",we,a(e.$t("pawedAnimals")),1),l(r,{cards:s.pawedBottom,forest:s.forest},null,8,["cards","forest"]),t("div",Se,a(e.$t("sides")),1),t("div",Pe,a(e.$t("insects")),1),l(r,{cards:s.insectsSide,forest:s.forest},null,8,["cards","forest"]),t("div",Oe,a(e.$t("bats")),1),l(r,{cards:s.bats,forest:s.forest},null,8,["cards","forest"]),t("div",Ie,a(e.$t("deerAndCloven")),1),l(r,{cards:s.deerAndCloven,forest:s.forest},null,8,["cards","forest"]),s.roeDeerPresent?(i(),I(o,{key:0,class:"mt-3","player-name":h.playerName},null,8,["player-name"])):f("",!0),t("div",$e,a(e.$t("pawedAnimals")),1),l(r,{cards:s.pawedSide,forest:s.forest},null,8,["cards","forest"]),t("div",xe,a(e.$t("cave")),1),t("div",Be,[t("label",Ee,a(e.$t("cardsInCave")),1),t("input",{value:s.forest.caveCount,onInput:d[0]||(d[0]=u=>s.setCaveCount(Number(u.target.value))),class:"form-control",type:"number",min:"0"},null,40,Fe)])])):f("",!0)}const je=y(fe,[["render",De],["__scopeId","data-v-ce9e55ae"]]);export{je as default};
