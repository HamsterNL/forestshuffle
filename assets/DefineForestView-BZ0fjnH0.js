import{F as k}from"./@fortawesome-BS8eGdaL.js";import{_,u as m,F as I,a as b}from"./index-DFl1D7NV.js";import{C as o,D as d,F as y,U as C,N as s,P as c,M as f,G as g,Z as N,_ as P,L as h,I as O,y as l}from"./@vue-nVQ0RcsF.js";import{O as F}from"./bootstrap-De39DNDK.js";import"./pinia-Cj4Lcor1.js";import"./vue-i18n-2F-3GSBZ.js";import"./@intlify-Y34EtYYP.js";import"./vue-router-AXQ5_F_T.js";import"./vue-toastification-BHb1mGnt.js";import"./vue-gtag-C-InrC_z.js";import"./register-service-worker-TYP_X6yW.js";import"./@popperjs-WhmJkuoZ.js";const E={name:"SymbolAmountEditor",props:{playerName:String},computed:{forest(){return m().getForestByPlayerName(this.playerName)}},methods:{update(e,r){m().setSymbolCount(this.playerName,e,r)},add(e){m().addSymbolCount(this.playerName,e)}}},B={class:"d-flex justify-content-around"},$={class:"text-center"},z=["for","onClick"],G=["src","alt"],j=["id","value","onInput"];function D(e,r,n,v,p,t){return o(),d("div",B,[(o(),d(y,null,C(["beech","linden","silverFir","horseChestnut","birch"],(a,u)=>s("div",$,[s("label",{for:"#"+a+"CountInput",onClick:i=>t.add(a)},[s("img",{src:"./img/symbols/"+a+".png",alt:a,width:"32",class:"img-fluid"},null,8,G)],8,z),s("input",{id:a+"CountInput",value:t.forest[a+"Count"],onInput:i=>t.update(a,i.target.value),type:"number",class:"form-control amount-input",min:"0",onfocus:"this.select();",onclick:"this.select();"},null,40,j)])),64))])}const x=_(E,[["render",D],["__scopeId","data-v-997b556a"]]),L={name:"CardAmountEditor",components:{SymbolAmountEditor:x,FontAwesomeIcon:k},props:{card:Object,forest:Object},computed:{playerName(){return this.forest.playerName}},methods:{addCard(){m().addCard(this.playerName,this.card.name)},removeCard(){m().removeCard(this.playerName,this.card.name)},paramAdd(e){m().addParam(this.playerName,this.card.name,e)},paramSub(e){m().subParam(this.playerName,this.card.name,e)}}},M=e=>(N("data-v-d430584b"),e=e(),P(),e),V={class:"d-flex mt-2"},H={class:"fw-bold card-amount"},q={key:0},T={class:"flex-grow-1"},U=["src"],Z={class:"ms-2"},J={key:0},K={key:0,class:"mt-1 mb-3 d-flex align-items-center"},Q=M(()=>s("div",{class:"card-amount"},null,-1)),R={class:"fw-bold card-amount"},W={key:0},X={class:"flex-grow-1"},Y=["onClick"],ee={class:"ms-2"},te=["onClick"];function se(e,r,n,v,p,t){return o(),d(y,null,[s("div",V,[s("div",H,[n.card.count>0?(o(),d("span",q,c(n.card.count)+"×",1)):f("",!0)]),s("div",T,[s("button",{onClick:r[0]||(r[0]=(...a)=>t.addCard&&t.addCard(...a)),class:g(["btn-"+n.card.symbols[0],"btn btn-primary btn-sm btn-card"])},[s("img",{src:"./img/symbols/"+n.card.symbols[0]+".png",height:"20"},null,8,U),s("span",Z,c(e.$t(n.card.name)),1)],2),s("button",{class:"ms-1 btn btn-outline-danger btn-sm",onClick:r[1]||(r[1]=(...a)=>t.removeCard&&t.removeCard(...a))},"×")]),s("div",null,[n.card.count>0&&n.card.symbols.indexOf("butterfly")<0?(o(),d("span",J,c(n.card.points),1)):f("",!0)])]),(o(!0),d(y,null,C(n.card.params,a=>(o(),d("div",{class:"mt-1 mb-2",key:a.name},[a.type==="number"?(o(),d("div",K,[Q,s("div",R,[n.card.count>0?(o(),d("span",W,c(a.value),1)):f("",!0)]),s("div",X,[s("button",{onClick:u=>t.paramAdd(a.name),class:g(["btn-"+n.card.symbols[0],"btn btn-sm btn-primary btn-card"])},[s("span",ee,c(e.$t(a.name)),1)],10,Y),s("button",{class:"ms-1 btn btn-outline-danger btn-sm",onClick:u=>t.paramSub(a.name)},"×",8,te)])])):f("",!0)]))),128))],64)}const A=_(L,[["render",se],["__scopeId","data-v-d430584b"]]),ae={name:"CardAmountEditorList",components:{SymbolAmountEditor:x,CardAmountEditor:A},props:{cards:Array,forest:I,symbol:String,symbol2:String,heading:String},computed:{totalPoints(){return this.symbol==="butterfly"?this.forest.butterflyPoints:this.cards.map(e=>e.points).reduce((e,r)=>r+=e,0)}}},re=["src","alt"],ne=["src","alt"],oe={class:"ms-1 fs-5 flex-grow-1"},de={class:"fs-5"};function le(e,r,n,v,p,t){const a=h("CardAmountEditor");return o(),d(y,null,[s("div",O(e.$attrs,{class:"d-flex align-items-center"}),[s("img",{src:"./img/symbols/"+n.symbol+".png",height:"24",alt:e.$t(n.heading)},null,8,re),n.symbol2?(o(),d("img",{key:0,src:"./img/symbols/"+n.symbol2+".png",height:"24",alt:e.$t(n.heading)},null,8,ne)):f("",!0),s("div",oe,c(e.$t(n.heading)),1),s("div",de,c(t.totalPoints),1)],16),(o(!0),d(y,null,C(n.cards,u=>(o(),d("div",{key:"cae_"+u.name,class:"d-block"},[l(a,{card:u,forest:n.forest},null,8,["card","forest"])]))),128))],64)}const ie=_(ae,[["render",le]]),ce={name:"PlayerNavigation",computed:{players(){return b().players.map(e=>({...e,points:m().getForestByPlayerName(e.name).points}))},currentPlayer(){return b().currentPlayer},points(){return m().getForestByPlayerName(this.currentPlayer.name).points}},methods:{addPlayer(){const e=this.$t("player")+" "+(this.players.length+1);m().addForest(e),b().addPlayer(e),b().selectPlayer(e)},selectPlayer(e){b().selectPlayer(e)}}},me={class:"wrapper text-light"},ue={class:"player-nav d-flex"},fe=["onClick"],be={class:"ms-2 fw-bold text-decoration-none"},ye={key:0,class:"current-player d-flex justify-content-between px-3 fs-1 fw-bold position-absolute w-100"};function he(e,r,n,v,p,t){return o(),d("div",me,[s("div",ue,[(o(!0),d(y,null,C(t.players,(a,u)=>(o(),d("div",{class:g(["player-nav-item border-light text-light",{"border-start":u>0}]),onClick:i=>t.selectPlayer(a.name)},[s("span",{class:g({"text-decoration-underline":a.name===t.currentPlayer.name})},c(a.name),3),s("span",be,c(a.points),1)],10,fe))),256)),t.players.length<5?(o(),d("button",{key:0,class:"btn btn-sm btn-light py-0 ms-1 z-99",onClick:r[0]||(r[0]=(...a)=>t.addPlayer&&t.addPlayer(...a))},"+")):f("",!0)]),t.currentPlayer?(o(),d("div",ye,[s("div",null,c(t.currentPlayer.name),1),s("div",null,c(t.points),1)])):f("",!0)])}const _e=_(ce,[["render",he],["__scopeId","data-v-3e5e9593"]]),ve={name:"Navigation",components:{FontAwesomeIcon:k},methods:{closeMenu(){F.getInstance(document.getElementById("navigation")).hide()},startNewGame(){m().reset(),this.closeMenu()},resetPlayers(){b().resetPlayers(),this.startNewGame(),this.closeMenu()}}},pe=e=>(N("data-v-aedcd106"),e=e(),P(),e),ge={class:"position-fixed bottom-0 d-flex justify-content-center w-100 z-9999 bottom-nav"},Ce={id:"navigation",class:"offcanvas offcanvas-end z-9999",tabindex:"-1"},Ne=pe(()=>s("div",{class:"offcanvas-header"},[s("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),Pe={class:"offcanvas-body"};function xe(e,r,n,v,p,t){const a=h("font-awesome-icon");return o(),d(y,null,[l(a,{class:"position-fixed right-aligned text-info z-9999",icon:"caret-left",size:"5x",role:"button","data-bs-toggle":"offcanvas","data-bs-target":"#navigation","aria-controls":"offcanvasExample"}),s("div",ge,[l(a,{class:"text-info aligned-bottom",icon:"caret-up",size:"5x",role:"button","data-bs-toggle":"offcanvas","data-bs-target":"#navigation","aria-controls":"offcanvasExample"})]),s("div",Ce,[Ne,s("div",Pe,[s("div",{class:"d-block btn btn-primary",onClick:r[0]||(r[0]=(...u)=>t.startNewGame&&t.startNewGame(...u))},c(e.$t("startNewGame")),1),s("div",{class:"mt-2 d-block btn btn-warning",onClick:r[1]||(r[1]=(...u)=>t.resetPlayers&&t.resetPlayers(...u))},c(e.$t("resetPlayers")),1)])])],64)}const we=_(ve,[["render",xe],["__scopeId","data-v-aedcd106"]]),ke={components:{Navigation:we,PlayerNavigation:_e,SymbolAmountEditor:x,CardAmountEditorList:ie,CardAmountEditor:A},computed:{playerName(){var e;return(e=b().currentPlayer)==null?void 0:e.name},forest(){return m().getForestByPlayerName(this.playerName)},cards(){return m().getForestByPlayerName(this.playerName).cards},trees(){return this.cards.filter(e=>e.symbols.indexOf("tree")>=0)},birds(){return this.cards.filter(e=>e.symbols.indexOf("bird")>=0)},butterflies(){return this.cards.filter(e=>e.symbols.indexOf("butterfly")>=0)},others(){return this.forest.cards.filter(e=>e.name==="redSquirrel")},plants(){return this.cards.filter(e=>e.symbols.indexOf("plant")>=0)},mushrooms(){return this.cards.filter(e=>e.symbols.indexOf("mushroom")>=0)},amphibians(){return this.cards.filter(e=>e.symbols.indexOf("amphibian")>=0)},insectsBottom(){return this.cards.filter(e=>e.symbols.indexOf("insect")>=0&&e.position==="bottom")},pawedBottom(){return this.cards.filter(e=>e.symbols.indexOf("pawedAnimal")>=0&&e.position==="bottom")},insectsSide(){return this.cards.filter(e=>e.symbols.indexOf("insect")>=0&&e.position==="side")},bats(){return this.cards.filter(e=>e.symbols.indexOf("bat")>=0)},deerAndCloven(){return this.cards.filter(e=>e.symbols.indexOf("deer")>=0||e.symbols.indexOf("clovenHoofedAnimal")>=0)},roeDeerPresent(){return this.forest.roeDeerPresent()},pawedSide(){return this.cards.filter(e=>e.symbols.indexOf("pawedAnimal")>=0&&e.position==="side")},points(){return m().getForestByPlayerName(this.playerName).points}},methods:{setCaveCount(e){m().setCaveCount(this.playerName,e)}},watch:{playerName:{handler(e){if(!e){const r=b();if(r.players.length===0){const n=this.$t("player")+" 1";r.addPlayer(n),r.selectPlayer(n),m().addForest(n)}else r.selectPlayer(r.players[0].name)}},immediate:!0}}},Ae=e=>(N("data-v-e1bf6df0"),e=e(),P(),e),Se={key:0,class:"container"},Ie=Ae(()=>s("div",{class:"distance-keeper position-relative"},null,-1)),Oe={class:"mt-4 fs-2 border-primary border-bottom"},Fe={class:"mt-4 fs-2 border-primary border-bottom"},Ee={class:"mt-4 fs-2 border-primary border-bottom"},Be={key:0,class:"d-flex justify-content-center align-items-center"},$e={class:"fs-5 d-none d-md-flex me-md-2"},ze={class:"mt-4 mb-5"},Ge={class:"text-center"},je=["alt"],De={class:"text-center"},Le=["value"];function Me(e,r,n,v,p,t){const a=h("PlayerNavigation"),u=h("Navigation"),i=h("CardAmountEditorList"),S=h("SymbolAmountEditor");return o(),d(y,null,[l(a),l(u),t.forest?(o(),d("div",Se,[Ie,l(i,{cards:t.trees,forest:t.forest,symbol:"tree",heading:"trees"},null,8,["cards","forest"]),s("div",Oe,c(e.$t("tops")),1),l(i,{class:"mt-1",cards:t.birds,forest:t.forest,symbol:"bird",heading:"birds"},null,8,["cards","forest"]),l(i,{class:"mt-4",cards:t.butterflies,forest:t.forest,symbol:"butterfly",heading:"butterflies"},null,8,["cards","forest"]),l(i,{class:"mt-4",cards:t.others,forest:t.forest,symbol:"pawedAnimal",heading:"pawedAnimals"},null,8,["cards","forest"]),s("div",Fe,c(e.$t("bottoms")),1),l(i,{class:"mt-1",cards:t.plants,forest:t.forest,symbol:"plant",heading:"plants"},null,8,["cards","forest"]),l(i,{class:"mt-4",cards:t.mushrooms,forest:t.forest,symbol:"mushroom",heading:"mushrooms"},null,8,["cards","forest"]),l(i,{class:"mt-4",cards:t.amphibians,forest:t.forest,symbol:"amphibian",heading:"amphibians"},null,8,["cards","forest"]),l(i,{class:"mt-4",cards:t.insectsBottom,forest:t.forest,symbol:"insect",heading:"insects"},null,8,["cards","forest"]),l(i,{class:"mt-4",cards:t.pawedBottom,forest:t.forest,symbol:"pawedAnimal",heading:"pawedAnimals"},null,8,["cards","forest"]),s("div",Ee,c(e.$t("sides")),1),l(i,{class:"mt-2",cards:t.insectsSide,forest:t.forest,symbol:"insect",heading:"insects"},null,8,["cards","forest"]),l(i,{class:"mt-4",cards:t.bats,forest:t.forest,symbol:"bat",heading:"bats"},null,8,["cards","forest"]),l(i,{class:"mt-4",cards:t.deerAndCloven,forest:t.forest,symbol:"deer",symbol2:"clovenHoofedAnimal",heading:"deerAndCloven"},null,8,["cards","forest"]),t.roeDeerPresent?(o(),d("div",Be,[s("div",$e,c(e.$t("treeTypeCount")),1),l(S,{class:"mt-2","player-name":t.playerName},null,8,["player-name"])])):f("",!0),l(i,{class:"mt-4",cards:t.pawedSide,forest:t.forest,symbol:"pawedAnimal",heading:"pawedAnimals"},null,8,["cards","forest"]),s("div",ze,[s("div",Ge,[s("img",{src:"./img/cave.png",alt:e.$t("cave"),onClick:r[0]||(r[0]=w=>t.setCaveCount(t.forest.caveCount+1))},null,8,je)]),s("div",De,[s("input",{value:t.forest.caveCount,onInput:r[1]||(r[1]=w=>t.setCaveCount(Number(w.target.value))),type:"number",class:"form-control text-center fs-5",min:"0",onfocus:"this.select();",onclick:"this.select();"},null,40,Le)])])])):f("",!0)],64)}const Ye=_(ke,[["render",Me],["__scopeId","data-v-e1bf6df0"]]);export{Ye as default};
