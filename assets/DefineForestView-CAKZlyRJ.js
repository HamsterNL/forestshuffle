import{_ as y,F as N,u,r as _,o as l,c,a as t,b as n,t as a,d as h,e as p,f as b,g,h as A,i as w,p as S,j as k}from"./index-DN06ziTh.js";const P={name:"CardAmountEditor",components:{FontAwesomeIcon:N},props:{card:Object,forest:Object},computed:{playerName(){return this.forest.playerName}},methods:{addCard(){u().addCard(this.playerName,this.card.name)},removeCard(){u().removeCard(this.playerName,this.card.name)},paramAdd(e){u().addParam(this.playerName,this.card.name,e)},paramSub(e){u().subParam(this.playerName,this.card.name,e)}}},O={class:"row mt-1"},B={class:"col-2 text-nowrap d-flex"},E={class:"col-1 fw-bold"},F={key:0},I={class:"col-6"},$={class:"col-2"},x={key:0},j={key:0,class:"col-2 offset-1 text-nowrap d-flex"},z=["onClick"],D=["onClick"],L={class:"col-1"},V={class:"col-8"};function q(e,o,d,v,m,s){const r=_("font-awesome-icon");return l(),c(p,null,[t("div",O,[t("div",B,[t("div",{onClick:o[0]||(o[0]=(...i)=>s.addCard&&s.addCard(...i)),class:"cursor-pointer text-primary"},[n(r,{icon:"circle-plus",size:"lg"})]),t("div",{onClick:o[1]||(o[1]=(...i)=>s.removeCard&&s.removeCard(...i)),class:"ms-1 cursor-pointer text-danger"},[n(r,{icon:"circle-minus",size:"lg"})])]),t("div",E,[d.card.count>0?(l(),c("span",F,a(d.card.count)+"Ã—",1)):h("",!0)]),t("div",I,a(e.$t(d.card.name)),1),t("div",$,[d.card.count>0&&d.card.symbols.indexOf("butterfly")<0?(l(),c("span",x,a(d.card.points),1)):h("",!0)])]),(l(!0),c(p,null,b(d.card.params,i=>(l(),c("div",{class:"row mt-1",key:i.name},[i.type==="number"?(l(),c("div",j,[t("div",{onClick:f=>s.paramAdd(i.name),class:"text-primary cursor-pointer"},[n(r,{icon:"circle-plus",size:"lg"})],8,z),t("div",{onClick:f=>s.paramSub(i.name),class:"ms-1 text-danger cursor-pointer"},[n(r,{icon:"circle-minus",size:"lg"})],8,D)])):h("",!0),t("div",L,a(i.value),1),t("div",V,a(e.$t(i.name)),1)]))),128))],64)}const C=y(P,[["render",q]]),G={name:"CardAmountEditorList",components:{CardAmountEditor:C},props:{cards:Array,forest:g}},H={class:"list-group"};function J(e,o,d,v,m,s){const r=_("CardAmountEditor");return l(),c("ul",H,[(l(!0),c(p,null,b(d.cards,i=>(l(),c("li",{key:"cae_"+i.name,class:"list-group-item"},[n(r,{card:i,forest:d.forest},null,8,["card","forest"])]))),128))])}const K=y(G,[["render",J]]),M={name:"SymbolAmountEditor",props:{playerName:String},computed:{forest(){return u().getForestByPlayerName(this.playerName)}},methods:{update(e,o){u().getForestByPlayerName(this.playerName).setSymbolCount(e,o.target.value)}}},Q={class:"d-flex justify-content-around"},R={class:"text-center"},T=["for"],U=["src","alt"],W=["id","value","onInput"];function X(e,o,d,v,m,s){return l(),c("div",Q,[(l(),c(p,null,b(["beech","linden","silverFir","horseChestnut","birch"],(r,i)=>t("div",R,[t("label",{for:"#"+r+"CountInput"},[t("img",{src:"/img/symbols/"+r+".png",alt:r,width:"32",class:"img-fluid"},null,8,U)],8,T),t("input",{id:r+"CountInput",value:s.forest[r+"Count"],onInput:f=>s.update(r,f),type:"number",class:"form-control amount-input",onfocus:"this.select();",onclick:"this.select();"},null,40,W)])),64))])}const Y=y(M,[["render",X],["__scopeId","data-v-b49fba60"]]),Z={components:{SymbolAmountEditor:Y,CardAmountEditorList:K,CardAmountEditor:C},data(){return{playerName:null}},computed:{forest(){return u().getForestByPlayerName(this.playerName)},cards(){return u().getForestByPlayerName(this.playerName).cards},trees(){return this.cards.filter(e=>e.symbols.indexOf("tree")>=0)},birds(){return this.cards.filter(e=>e.symbols.indexOf("bird")>=0)},butterflies(){return this.cards.filter(e=>e.symbols.indexOf("butterfly")>=0)},butterflyPoints(){return this.forest.butterflyPoints},others(){return this.forest.cards.filter(e=>e.name==="redSquirrel")},plants(){return this.cards.filter(e=>e.symbols.indexOf("plant")>=0)},mushrooms(){return this.cards.filter(e=>e.symbols.indexOf("mushroom")>=0)},amphibians(){return this.cards.filter(e=>e.symbols.indexOf("amphibian")>=0)},insectsBottom(){return this.cards.filter(e=>e.symbols.indexOf("insect")>=0&&e.position==="bottom")},pawedBottom(){return this.cards.filter(e=>e.symbols.indexOf("pawedAnimal")>=0&&e.position==="bottom")},insectsSide(){return this.cards.filter(e=>e.symbols.indexOf("insect")>=0&&e.position==="side")},bats(){return this.cards.filter(e=>e.symbols.indexOf("bat")>=0)},deerAndCloven(){return this.cards.filter(e=>e.symbols.indexOf("deer")>=0||e.symbols.indexOf("clovenHoofedAnimal")>=0)},roeDeerPresent(){return this.forest.roeDeerPresent()},pawedSide(){return this.cards.filter(e=>e.symbols.indexOf("pawedAnimal")>=0&&e.position==="side")},points(){return u().getForestByPlayerName(this.playerName).points}},methods:{setCaveCount(e){u().setCaveCount(this.playerName,e)}},watch:{playerName:{handler(e){if(!e){const o=A();if(o.players.length===0){const d=this.$t("player")+" 1";o.addPlayer(d),u().addForest(d),o.selectPlayer(d)}else o.selectPlayer(o.players[0].name);this.playerName=o.currentPlayer.name}},immediate:!0}}},ee=e=>(S("data-v-939d80f1"),e=e(),k(),e),se={key:0,class:"container"},te={class:"position-fixed z-1 bg-white w-100 pb-3"},re={class:"h1"},ae=ee(()=>t("div",{class:"distance-keeper position-relative"},null,-1)),oe={class:"h1"},ne={class:"h1"},de={class:"h4"},ie={class:"h4 d-flex justify-content-between"},le={class:"h4"},ce={class:"h1"},ue={class:"h4"},me={class:"h4"},fe={class:"h4"},he={class:"h4"},_e={class:"h4"},pe={class:"h1"},ye={class:"h4"},ve={class:"h4"},be={class:"h4"},Ce={class:"h4"},Ne={class:"h4"},ge={class:"input-group"},Ae={for:"#caveInput"},we=["value"];function Se(e,o,d,v,m,s){const r=_("CardAmountEditorList"),i=_("SymbolAmountEditor");return s.forest?(l(),c("div",se,[t("div",te,[t("div",re,a(m.playerName),1),t("div",null,"Points: "+a(s.points),1)]),ae,t("div",oe,a(e.$t("trees")),1),n(r,{cards:s.trees,forest:s.forest},null,8,["cards","forest"]),t("div",ne,a(e.$t("tops")),1),t("div",de,a(e.$t("birds")),1),n(r,{cards:s.birds,forest:s.forest},null,8,["cards","forest"]),t("div",ie,[t("div",null,a(e.$t("butterflies")),1),t("div",null,a(e.$t("points"))+": "+a(s.butterflyPoints),1)]),n(r,{cards:s.butterflies,forest:s.forest},null,8,["cards","forest"]),t("div",le,a(e.$t("others")),1),n(r,{cards:s.others,forest:s.forest},null,8,["cards","forest"]),t("div",ce,a(e.$t("bottoms")),1),t("div",ue,a(e.$t("plants")),1),n(r,{cards:s.plants,forest:s.forest},null,8,["cards","forest"]),t("div",me,a(e.$t("mushrooms")),1),n(r,{cards:s.mushrooms,forest:s.forest},null,8,["cards","forest"]),t("div",fe,a(e.$t("amphibians")),1),n(r,{cards:s.amphibians,forest:s.forest},null,8,["cards","forest"]),t("div",he,a(e.$t("insects")),1),n(r,{cards:s.insectsBottom,forest:s.forest},null,8,["cards","forest"]),t("div",_e,a(e.$t("pawedAnimals")),1),n(r,{cards:s.pawedBottom,forest:s.forest},null,8,["cards","forest"]),t("div",pe,a(e.$t("sides")),1),t("div",ye,a(e.$t("insects")),1),n(r,{cards:s.insectsSide,forest:s.forest},null,8,["cards","forest"]),t("div",ve,a(e.$t("bats")),1),n(r,{cards:s.bats,forest:s.forest},null,8,["cards","forest"]),t("div",be,a(e.$t("deerAndCloven")),1),n(r,{cards:s.deerAndCloven,forest:s.forest},null,8,["cards","forest"]),s.roeDeerPresent?(l(),w(i,{key:0,class:"mt-3","player-name":m.playerName},null,8,["player-name"])):h("",!0),t("div",Ce,a(e.$t("pawedAnimals")),1),n(r,{cards:s.pawedSide,forest:s.forest},null,8,["cards","forest"]),t("div",Ne,a(e.$t("cave")),1),t("div",ge,[t("label",Ae,a(e.$t("cardsInCave")),1),t("input",{value:s.forest.caveCount,onInput:o[0]||(o[0]=f=>s.setCaveCount(Number(f.target.value))),class:"form-control",type:"number",min:"0"},null,40,we)])])):h("",!0)}const Pe=y(Z,[["render",Se],["__scopeId","data-v-939d80f1"]]);export{Pe as default};
